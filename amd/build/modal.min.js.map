{"version":3,"sources":["../src/modal.js"],"names":["show_modal","ModalFactory","create","type","types","SAVE_CANCEL","title","body","then","modal","trigger","document","getElementById","output","root","getRoot","onclick","Log","info","on","ModalEvents","save","innerHTML","show","done","close"],"mappings":"gMACA,OACA,OACA,O,mDAGO,GAAMA,CAAAA,CAAU,CAAG,UAAM,CAE5BC,UAAaC,MAAb,CAAoB,CAChBC,IAAI,CAAEF,UAAaG,KAAb,CAAmBC,WADT,CAEhBC,KAAK,CAAE,eAFS,CAGhBC,IAAI,CAAE,iDAHU,CAApB,EAMGC,IANH,CAMQ,SAASC,CAAT,CAAgB,IAEZC,CAAAA,CAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAFE,CAIZC,CAAM,CAAGF,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAJG,CAKZE,CAAI,CAAGL,CAAK,CAACM,OAAN,EALK,CAOlBL,CAAO,CAACM,OAAR,CAAkB,UAAW,CAEzBC,UAAIC,IAAJ,CAAS,gBAAT,EAEAJ,CAAI,CAACK,EAAL,CAAQC,UAAYC,IAApB,CAA0B,UAAW,CACjCR,CAAM,CAACS,SAAP,CAAmB,EACtB,CAFD,EAGAb,CAAK,CAACc,IAAN,EACH,CACJ,CAtBH,EAuBGC,IAvBH,CAuBQ,SAASf,CAAT,CAAgB,CAClBA,CAAK,CAACgB,KAAN,EACL,CAzBD,CA0BH,CA5BM,C","sourcesContent":["// See: https://docs.moodle.org/dev/Useful_core_Javascript_modules.\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport Log from 'core/log';\n\n// The function called from the Mustache template.\nexport const show_modal = () => {\n    // Set up a SAVE_CANCEL modal.\n    ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        title: 'Clear content',\n        body: '<p>Do you really want to clear the content?</p>'\n      })\n      // Set up the actions.\n      .then(function(modal) {\n          // The trigger button for showing the modal.\n          const trigger = document.getElementById('mdlbtn');\n          // A sample paragraph of output in the template.\n          const output = document.getElementById('mod_sandbox_output');\n          const root = modal.getRoot();\n          // When button clicked.\n          trigger.onclick = function() {\n              // Convenient to use the log for debugging.\n              Log.info('Button clicked');\n              // If save is selected then go ahead and delete the content.\n              root.on(ModalEvents.save, function() {\n                  output.innerHTML = '';\n              });\n              modal.show();\n          };\n      })\n      .done(function(modal) {\n          modal.close();\n    });\n};"],"file":"modal.min.js"}